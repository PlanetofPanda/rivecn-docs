import{_ as a,C as e,c as n,o as p,G as t,ag as l}from"./chunks/framework.WXS6e2PS.js";const r="/docs/images/runtimes/apple/f4e4f632-f24d-47ed-b19c-0c961da458e8.webp",u=JSON.parse('{"title":"Apple","description":"Rive 的 Apple 运行时。","frontmatter":{"title":"Apple","description":"Rive 的 Apple 运行时。"},"headers":[],"relativePath":"runtimes/apple/apple.md","filePath":"runtimes/apple/apple.md"}'),h={name:"runtimes/apple/apple.md"};function k(d,s,o,c,E,g){const i=e("NoteOnFeatureSupport");return p(),n("div",null,[t(i),s[0]||(s[0]=l('<h2 id="概述-overview" tabindex="-1">概述 (Overview) <a class="header-anchor" href="#概述-overview" aria-label="Permalink to &quot;概述 (Overview)&quot;">​</a></h2><p>本指南介绍如何开始使用 Apple 运行时库。Rive 运行时库是开源的。源代码可在 <a href="https://github.com/rive-app/rive-ios" target="_blank" rel="noreferrer">GitHub 仓库</a> 中找到。</p><p>此库包含一个 API，供 Apple 的应用（包括 UIKit/AppKit 和 SwiftUI）轻松集成 Rive 资源。该运行时可以通过 Cocoapods 或 Swift Package Manager (SPM) 安装。</p><p>iOS 最低目标版本为 <strong>14.0</strong>，macOS 的目标版本为 <strong>13.1</strong>。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p><strong>注意</strong>：macOS 运行时支持包含在 <code>v4.0.1+</code> 版本中。</p></div><p>您可以运行 Rive GitHub 仓库中的 Apple 示例应用。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/rive-app/rive-ios</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 Xcode 中打开 <code>Example-iOS</code> 应用，并务必选择 <code>Preview (iOS)</code> 或 <code>Preview (macOS)</code> <a href="https://developer.apple.com/documentation/xcode/customizing-the-build-schemes-for-a-project" target="_blank" rel="noreferrer">Scheme</a>。其他 Scheme 仅用于开发目的，并需要额外的配置，请参阅 <a href="https://github.com/rive-app/rive-ios/blob/main/CONTRIBUTING.md" target="_blank" rel="noreferrer">CONTRIBUTING.MD</a>。</p><p><img src="'+r+`" alt="图像"></p><h2 id="入门-getting-started" tabindex="-1">入门 (Getting Started) <a class="header-anchor" href="#入门-getting-started" aria-label="Permalink to &quot;入门 (Getting Started)&quot;">​</a></h2><p>按照以下步骤快速开始将 Rive 集成到您的 Apple 应用中。</p><h3 id="安装依赖项" tabindex="-1">安装依赖项 <a class="header-anchor" href="#安装依赖项" aria-label="Permalink to &quot;安装依赖项&quot;">​</a></h3><h4 id="通过-cocoapods" tabindex="-1">通过 Cocoapods <a class="header-anchor" href="#通过-cocoapods" aria-label="Permalink to &quot;通过 Cocoapods&quot;">​</a></h4><p>在您的 Podspec 文件中添加以下内容：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        pod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;RiveRuntime&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="通过-swift-package-manager" tabindex="-1">通过 Swift Package Manager <a class="header-anchor" href="#通过-swift-package-manager" aria-label="Permalink to &quot;通过 Swift Package Manager&quot;">​</a></h4><p>要通过 Swift Package Manager 安装，请在 Xcode 的 Package Finder 中搜索 <code>rive-ios</code> 或全路径：<code>https://github.com/rive-app/rive-ios</code></p><h3 id="导入-rive" tabindex="-1">导入 Rive <a class="header-anchor" href="#导入-rive" aria-label="Permalink to &quot;导入 Rive&quot;">​</a></h3><p>在您使用 Rive 运行时的文件顶部添加以下内容：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RiveRuntime</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="v2-运行时用法" tabindex="-1">v2 运行时用法 <a class="header-anchor" href="#v2-运行时用法" aria-label="Permalink to &quot;v2 运行时用法&quot;">​</a></h3><p>在 2.x.x 或更高版本的 Rive Apple 运行时中，您主要使用的对象是 <code>RiveViewModel</code>。它负责创建 Rive 资源并与其交互。</p><h4 id="swiftui" tabindex="-1">SwiftUI <a class="header-anchor" href="#swiftui" aria-label="Permalink to &quot;SwiftUI&quot;">​</a></h4><p><strong>使用视图设置 RiveViewModel</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        struct </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AnimationView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: View {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> some</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                RiveViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fileName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cool_rive_animation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在上面的示例中，您引用了捆绑到应用程序中的 <code>.riv</code> 资源的名称，但您也可以像这样加载托管在远程 URL 上的 <code>.riv</code> 文件：</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        struct </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AnimationView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: View {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> body</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> some</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                RiveViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    webURL: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://cdn.rive.app/animations/off_road_car_v7.riv&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                ).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="uikit-storyboard" tabindex="-1">UIKit - Storyboard <a class="header-anchor" href="#uikit-storyboard" aria-label="Permalink to &quot;UIKit - Storyboard&quot;">​</a></h4><p><strong>使用 Storyboard 上的 Controller 设置 RiveViewModel</strong></p><p>使用 Storyboard 将 Rive 添加到控制器最简单的方法是创建一个 <code>RiveViewModel</code>，并将其视图设置为您在 Storyboard 中创建的 <code>RiveView</code>。</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AnimationViewController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UIViewController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            @IBOutlet weak var </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">riveView</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RiveView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            var </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">simpleVM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RiveViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fileName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cool_rive_animation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            override</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> func </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">viewDidLoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                simpleVM.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(riveView)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="uikit-编程方式-programmatic" tabindex="-1">UIKit - 编程方式 (Programmatic) <a class="header-anchor" href="#uikit-编程方式-programmatic" aria-label="Permalink to &quot;UIKit - 编程方式 (Programmatic)&quot;">​</a></h4><p><strong>在代码中从头开始设置 RiveViewModel 及其 Controller</strong></p><p>您还可以完全通过代码将 Rive 添加到控制器中：创建一个 <code>RiveViewModel</code>，让它创建一个新的 <code>RiveView</code>，然后将其添加到视图层次结构中。</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AnimationViewController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UIViewController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            var </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">simpleVM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RiveViewModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fileName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cool_rive_animation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            override</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> func </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">viewWillAppear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">_</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> animated</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> riveView </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simpleVM.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createRiveView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addSubview</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(riveView)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                riveView.frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.bounds</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>请参阅后续的运行时页面，了解如何控制动画播放、状态机等。</p><h2 id="资源-resources" tabindex="-1">资源 (Resources) <a class="header-anchor" href="#资源-resources" aria-label="Permalink to &quot;资源 (Resources)&quot;">​</a></h2><p>GitHub：<a href="https://github.com/rive-app/rive-ios" target="_blank" rel="noreferrer">https://github.com/rive-app/rive-ios</a> 示例：</p><ul><li><a href="https://github.com/rive-app/rive-ios/tree/main/Example-iOS" target="_blank" rel="noreferrer">https://github.com/rive-app/rive-ios/tree/main/Example-iOS</a></li><li><a href="https://github.com/rive-app/rive-ios/tree/main/Demo-App" target="_blank" rel="noreferrer">https://github.com/rive-app/rive-ios/tree/main/Demo-App</a></li><li>Meng To 的免费课程：<a href="https://designcode.io/swiftui-rive" target="_blank" rel="noreferrer">https://designcode.io/swiftui-rive</a></li></ul>`,39))])}const m=a(h,[["render",k]]);export{u as __pageData,m as default};
