import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.WXS6e2PS.js";const c=JSON.parse('{"title":"原生 SDK 版本自定义 (Native SDK Version Customization)","description":"如何覆盖 Rive React Native 使用的底层 iOS 或 Android Rive 原生 SDK 版本","frontmatter":{"title":"原生 SDK 版本自定义 (Native SDK Version Customization)","description":"如何覆盖 Rive React Native 使用的底层 iOS 或 Android Rive 原生 SDK 版本"},"headers":[],"relativePath":"runtimes/react-native/native-version-customization.md","filePath":"runtimes/react-native/native-version-customization.md"}'),t={name:"runtimes/react-native/native-version-customization.md"};function p(l,s,r,h,o,d){return n(),a("div",null,[...s[0]||(s[0]=[e(`<div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><strong>⚠️ 高级配置</strong> 本节内容适用于需要使用特定版本 Rive 原生 SDK 的高级用户。在大多数情况下，您应该使用库默认提供的版本。只有在您有特定要求并了解潜在的兼容性影响时，才应自定义这些版本。</p><p><strong>重要提示：</strong> 如果您自定义了原生 SDK 版本，稍后将 Rive React Native 更新到较新版本时，应重新检查自定义版本设置。您指定的自定义版本可能与更新后的 Rive React Native 版本不兼容。务必检查新版本中的默认版本并进行彻底测试。</p></div><h3 id="默认行为-default-behavior" tabindex="-1">默认行为 (Default Behavior) <a class="header-anchor" href="#默认行为-default-behavior" aria-label="Permalink to &quot;默认行为 (Default Behavior)&quot;">​</a></h3><p>默认情况下，Rive React Native 使用 <code>package.json</code> 中指定的原生 SDK 版本：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;runtimeVersions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ios&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;6.12.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;android&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10.4.5&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这些版本经过测试，已知与此版本的 Rive React Native 配合良好。</p><h3 id="自定义版本-customizing-versions" tabindex="-1">自定义版本 (Customizing Versions) <a class="header-anchor" href="#自定义版本-customizing-versions" aria-label="Permalink to &quot;自定义版本 (Customizing Versions)&quot;">​</a></h3><p>您可以使用平台特定的配置文件来覆盖这些默认版本。</p><p>查看可用的 Rive 原生 <a href="https://github.com/rive-app/rive-android/releases" target="_blank" rel="noreferrer">Android</a> 和 <a href="https://github.com/rive-app/rive-ios/releases" target="_blank" rel="noreferrer">iOS</a> 版本。</p><h4 id="ios-vanilla-react-native" tabindex="-1">iOS (Vanilla React Native) <a class="header-anchor" href="#ios-vanilla-react-native" aria-label="Permalink to &quot;iOS (Vanilla React Native)&quot;">​</a></h4><p>创建或编辑 <code>ios/Podfile.properties.json</code>：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;RiveRuntimeIOSVersion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;6.13.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后运行：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ios</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="android-vanilla-react-native" tabindex="-1">Android (Vanilla React Native) <a class="header-anchor" href="#android-vanilla-react-native" aria-label="Permalink to &quot;Android (Vanilla React Native)&quot;">​</a></h4><p>添加到 <code>android/gradle.properties</code>：</p><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Rive_RiveRuntimeAndroidVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10.5.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="expo-项目-expo-projects" tabindex="-1">Expo 项目 (Expo Projects) <a class="header-anchor" href="#expo-项目-expo-projects" aria-label="Permalink to &quot;Expo 项目 (Expo Projects)&quot;">​</a></h4><p>对于 Expo 项目，请在 <code>app.config.ts</code> 中使用配置插件：</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ExpoConfig, ConfigContext } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;expo/config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { withPodfileProperties } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@expo/config-plugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { withGradleProperties } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@expo/config-plugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConfigContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExpoConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      withPodfileProperties,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        RiveRuntimeIOSVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;6.13.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      withGradleProperties,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Rive_RiveRuntimeAndroidVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10.5.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="版本解析优先级-version-resolution-priority" tabindex="-1">版本解析优先级 (Version Resolution Priority) <a class="header-anchor" href="#版本解析优先级-version-resolution-priority" aria-label="Permalink to &quot;版本解析优先级 (Version Resolution Priority)&quot;">​</a></h3><p>库按以下顺序解析版本：</p><p><strong>iOS：</strong></p><ol><li><code>ios/Podfile.properties.json</code> → <code>RiveRuntimeIOSVersion</code></li><li><code>package.json</code> → <code>runtimeVersions.ios</code> (默认)</li></ol><p><strong>Android：</strong></p><ol><li><code>android/gradle.properties</code> → <code>Rive_RiveRuntimeAndroidVersion</code></li><li><code>package.json</code> → <code>runtimeVersions.android</code> (默认)</li></ol>`,25)])])}const E=i(t,[["render",p]]);export{c as __pageData,E as default};
