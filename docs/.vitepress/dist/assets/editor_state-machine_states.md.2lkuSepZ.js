import{_ as a,c as e,o as n,ag as d}from"./chunks/framework.WXS6e2PS.js";const s="/docs/images/editor/state-machine/42815967-dd47-4da1-ba8a-4fc12f64d972.webp",b=JSON.parse('{"title":"状态 (States)","description":"","frontmatter":{"title":"状态 (States)","description":""},"headers":[],"relativePath":"editor/state-machine/states.md","filePath":"editor/state-machine/states.md"}'),i={name:"editor/state-machine/states.md"};function p(o,t,c,r,l,h){return n(),e("div",null,[...t[0]||(t[0]=[d('<p>状态（States）本质上是可以在状态机中的任何时刻播放的时间轴动画。一个状态可以简单到只是改变一个对象的颜色和位置，也可以复杂到将多个时间轴混合在一起。</p><p>在处理状态机时，您最终会使用到几种类型的状态，包括默认状态（Default States）、单动画状态（Single animations）和混合状态（Blend States）。我们将逐一探讨。</p><h2 id="默认状态-default-states" tabindex="-1">默认状态 (Default States) <a class="header-anchor" href="#默认状态-default-states" aria-label="Permalink to &quot;默认状态 (Default States)&quot;">​</a></h2><p>默认状态是默认添加到每个状态机的基础状态。</p><p><img src="'+s+'" alt="Default States"></p><h3 id="入口状态-entry-state" tabindex="-1">入口状态 (Entry State) <a class="header-anchor" href="#入口状态-entry-state" aria-label="Permalink to &quot;入口状态 (Entry State)&quot;">​</a></h3><p>入口状态是状态机开始运行的起点。您会注意到，默认情况下，您的状态机已经有一个连接到入口状态的动画，但您可以随时更改。请注意，如果需要，您可以将多个动画连接到入口状态。例如，如果您想构建一个可以从&quot;开启&quot;或&quot;关闭&quot;状态开始的开关。</p><p><img src="https://ucarecdn.com/9d359af8-f3c3-4d57-8f88-7ba8dcad4847/" alt="Using the Entry state"></p><h3 id="退出状态-exit-state" tabindex="-1">退出状态 (Exit State) <a class="header-anchor" href="#退出状态-exit-state" aria-label="Permalink to &quot;退出状态 (Exit State)&quot;">​</a></h3><p>退出状态告诉状态机图层停止播放。这个特殊状态在涉及多个图层协作时非常有用。</p><h3 id="任意状态-any-state" tabindex="-1">任意状态 (Any State) <a class="header-anchor" href="#任意状态-any-state" aria-label="Permalink to &quot;任意状态 (Any State)&quot;">​</a></h3><p>与普通状态不同，连接到 &quot;Any State&quot; 的状态可以随时被播放，无论您的状态机当前处于哪个状态。当您想创建一系列可以随时激活的状态（例如更改角色的皮肤）时，Any State 非常好用。</p><p><img src="https://ucarecdn.com/6c4401fc-1b7c-4748-901d-a6e237f57e51/" alt="Rating system using the Any state"></p><h2 id="动画状态-animation-states" tabindex="-1">动画状态 (Animation States) <a class="header-anchor" href="#动画状态-animation-states" aria-label="Permalink to &quot;动画状态 (Animation States)&quot;">​</a></h2><p>动画状态包括除默认状态之外添加到状态机的所有状态。这些状态控制交互内容的视觉表现和动作。共有三种类型的动画状态：单动画状态（Single Animation）、1D 混合状态（1D blend）和直接混合状态（Direct blend）。</p><p>要向图表（Graph）添加状态，您可以将时间轴（Animations List）中的动画直接拖放到图表上。请注意，这会创建一个单动画状态。您可以使用检查器更改状态类型。</p><p><img src="https://ucarecdn.com/f99e2294-1915-4449-8632-71227dc4f87f/" alt="Drop and drop State onto the Graph"></p><p>此外，您也可以在图表上右键点击，创建一个没有任何关联时间轴的、任何类型的空白状态。</p><p><img src="https://ucarecdn.com/34662198-6e61-43bd-83dd-d4d8e1ee8012/" alt="Image"></p><p>右键点击添加状态：</p><p>要为状态分配时间轴，请使用检查器中的时间轴下拉菜单。</p><h3 id="单动画状态-single-animation-state" tabindex="-1">单动画状态 (Single animation state) <a class="header-anchor" href="#单动画状态-single-animation-state" aria-label="Permalink to &quot;单动画状态 (Single animation state)&quot;">​</a></h3><p>我们创建的任何时间轴都可以用作单动画状态。根据我们使用的动画类型，单动画状态可以是一个单次播放、循环播放或往复（ping-pong）播放的状态。在大多数情况下，您将主要使用单动画状态来构建状态机。</p><h3 id="混合状态-blend-states" tabindex="-1">混合状态 (Blend states) <a class="header-anchor" href="#混合状态-blend-states" aria-label="Permalink to &quot;混合状态 (Blend states)&quot;">​</a></h3><p>混合状态是将两个或多个时间轴动画混合在一起的状态。我们将这些状态用于加载条、生命值系统、滚动交互和动态表情绑定等场景。</p><p>混合状态有两种类型：1D 混合和直接混合（Direct Blend）。</p><h4 id="_1d-混合状态-1d-blend-state" tabindex="-1">1D 混合状态 (1D Blend state) <a class="header-anchor" href="#_1d-混合状态-1d-blend-state" aria-label="Permalink to &quot;1D 混合状态 (1D Blend state)&quot;">​</a></h4><p>1D 混合状态允许我们通过一个单一的数值输入来混合多个时间轴。该状态的工作原理是：当您增加或减少数值输入时，一个动画逐渐增强而另一个逐渐减弱。请注意，这种混合不是线性的，而是叠加式的，有时可能会产生意想不到的效果。</p><p><img src="https://ucarecdn.com/875b9ed6-41c7-4023-aaad-f38d2042dca7/" alt="Health bar using Blend state"></p><p><strong>配置 1D 混合状态：</strong></p><p>首先为您的混合状态创建几个时间轴。请记住，通常最好使用只为少数属性设置了关键帧的时间轴。在这个生命值条示例中，只有 X 缩放设置了关键帧。</p><p><img src="https://ucarecdn.com/a2e08c89-388b-4b21-b31b-3d5fb6e94cd7/" alt="Image"></p><p>生命值条的时间轴：</p><p>将 1D 混合状态添加到图表后，使用检查器配置该状态。</p><p><img src="https://ucarecdn.com/266c2c6d-6719-4b65-b06a-b1ca35d2eb86/" alt="Add Blend state"></p><p>首先，在下拉菜单中选择要驱动混合的数值输入。如果您尚未创建数值输入，这里将不会显示任何内容。</p><p><img src="https://ucarecdn.com/baf39e65-5bf1-44ed-bd2e-b0f0afa24ded/" alt="Create and add number input to Blend state"></p><p>数值输入下方的加号按钮允许您向混合状态添加时间轴。使用下拉菜单分配特定的时间轴。请注意，您可以根据需要添加任意多个时间轴。</p><p><img src="https://ucarecdn.com/fe5d4505-8290-4be9-b0d6-58f13d1df553/" alt="Add timelines to the Blend state"></p><p>接下来，您需要定义混合状态工作的数值范围。本例中的混合工作范围在 0 到 100 之间。</p><p><img src="https://ucarecdn.com/6a92f242-2979-44c7-bb95-fc51ebeeda5d/" alt="Image"></p><p>请注意，一旦定义了范围，输入下拉菜单上方就会出现一个图形，直观地呈现动画的混合方式。当状态机处于活动状态时，随着您在定义的范围内增加或减少输入，您会看到一个视觉指示在该图形上移动，显示时间轴的混合比例。</p><p><img src="https://ucarecdn.com/44a40cb9-90d9-4aca-920f-6042cc52340f/" alt="Blend State in action"></p><h4 id="叠加混合状态-additive-blend-state" tabindex="-1">叠加混合状态 (Additive Blend state) <a class="header-anchor" href="#叠加混合状态-additive-blend-state" aria-label="Permalink to &quot;叠加混合状态 (Additive Blend state)&quot;">​</a></h4><p>叠加混合状态允许您使用多个数值输入来混合多个时间轴。这使我们能够通过混合多个动画来创建独特的姿态和面部表情。在处理叠加混合时，您可以选择按数值（Value）或输入（Input）来混合动画。请看下文。</p><p><img src="https://ucarecdn.com/71cf4345-b728-47a4-946c-e08de2eb86dd/" alt="Using Additive Blend for facial animations"></p><p><strong>按数值混合 vs 按输入混合 (Value vs Input blend)</strong></p><p>向叠加混合状态添加动画时，系统会提示您选择 &quot;Blend by Value&quot;（按数值混合）或 &quot;Blend by Input&quot;（按输入混合）。</p><p><img src="https://ucarecdn.com/8e2c7380-85cf-4e41-8dd8-82e98f34d1bd/" alt="Adding timeline to Additive Blend"></p><p>&quot;Blend by Value&quot; 时间轴可以看作是基准动画或默认姿态。此值不与输入绑定，因此不能通过它控制状态机。相反，此数值描述了它的混合权重比例。</p><p>&quot;Input blend&quot; 是通过数值输入与默认姿态或动作进行混合的动画。您的每个不同的输入混合都应有其自己的数值输入。</p><h2 id="额外状态选项-additional-state-options" tabindex="-1">额外状态选项 (Additional State Options) <a class="header-anchor" href="#额外状态选项-additional-state-options" aria-label="Permalink to &quot;额外状态选项 (Additional State Options)&quot;">​</a></h2><p>当您在状态机图表上选中一个状态时，会有多个选项可供修改。</p><p><strong>更改状态类型</strong></p><p>顶部的三个图标允许您更改状态类型。您可以从单动画（single animation）、1D 混合（1D blend）和叠加混合（Additive blend）中选择。</p><p><img src="https://ucarecdn.com/185c56c3-4d69-4526-95c9-62af59675f18/" alt="Convert state type"></p><p><strong>更改动画</strong></p><p>您可以使用下拉菜单更改分配给当前状态的动画。</p><p><img src="https://ucarecdn.com/e8a8e540-b5ed-4947-b2cc-45ba793f0ea0/" alt="Changing animation on a state"></p><p><strong>播放速度 (Speed)</strong></p><p>您可以通过更改此数值来修改状态的播放速度。请注意，正值表示正向播放，负值表示反向播放。</p><p><img src="https://ucarecdn.com/5ada4e3d-bbba-412d-8bc3-6b4417717e16/" alt="Change animation speed"></p><p><strong>过渡 (Transitions)</strong></p><p>您可以查看从选定状态出发的所有过渡。您还可以通过点击眼睛图标来忽略（ignore）特定的过渡。</p>',64)])])}const u=a(i,[["render",p]]);export{b as __pageData,u as default};
