import{_ as e,c as t,o,ag as n}from"./chunks/framework.WXS6e2PS.js";const i="/docs/images/editor/fundamentals/components-add.gif",r="/docs/images/editor/fundamentals/components-statemachine.gif",s="/docs/images/editor/fundamentals/components-nested_inputs.gif",l="/docs/images/editor/fundamentals/components-animations.gif",p="/docs/images/editor/fundamentals/components-animation-simple.gif",d="/docs/images/editor/fundamentals/components-animation-remap.gif",c="/docs/images/editor/fundamentals/components-leaf.png",u="/docs/images/editor/fundamentals/components-layout.png",P=JSON.parse('{"title":"组件 (Components) (原嵌套画板)","description":"组件通过可重用的画板和动画简化您的工作流程。对源组件所做的更改将反映在所有实例中。","frontmatter":{"title":"组件 (Components) (原嵌套画板)","description":"组件通过可重用的画板和动画简化您的工作流程。对源组件所做的更改将反映在所有实例中。"},"headers":[],"relativePath":"editor/fundamentals/components.md","filePath":"editor/fundamentals/components.md"}'),m={name:"editor/fundamentals/components.md"};function h(g,a,q,f,b,_){return o(),t("div",null,[...a[0]||(a[0]=[n('<h2 id="创建组件" tabindex="-1">创建组件 <a class="header-anchor" href="#创建组件" aria-label="Permalink to &quot;创建组件&quot;">​</a></h2><p>任何画板都可以转换为组件。要执行此操作，在舞台上选择一个画板，并使用检查器中的组件图标来切换其状态。</p><p>或者，您可以在选中画板的情况下使用 <code>Shift</code> + <code>N</code> 快捷键。如果您习惯使用 Figma，那么 <code>Cmd/Ctrl</code> + <code>Alt/Option</code> + <code>K</code> 快捷键也同样有效。</p><p>再次点击检查器中的组件切换按钮，或者使用 <code>Shift</code> + <code>Alt/Option</code> + <code>N</code> 快捷键，即可将选择恢复为普通画板。</p><p>目前，只有被标记为&quot;组件&quot;的画板才会被导出到您的 <code>.riv</code> 文件中。如果您认为将来需要在运行时通过编程方式访问某个画板，则应将其标记为组件。关于特定导出行为的更多选项即将推出。</p><h2 id="使用组件" tabindex="-1">使用组件 <a class="header-anchor" href="#使用组件" aria-label="Permalink to &quot;使用组件&quot;">​</a></h2><p>使用&quot;组件工具&quot;（原称嵌套画板工具）在舞台上选择并放置组件实例。从工具栏中选择该工具或使用快捷键 <strong>N</strong> 即可启用它。</p><p>在舞台上的任意位置点击，将组件放置在所需位置。此时将显示一个菜单，列出文件中所有可实例化的组件。如果没有显示任何内容，可能是因为您的文件中没有任何画板被标记为组件。</p><p><img src="'+i+'" alt="Image"></p><p>或者，点击工具栏图标右侧的下拉菜单，预先选择好组件。该菜单内容受资产（Assets）选项卡的排序模式影响——&quot;自定义&quot;（Custom）模式将按照资产面板中的组织方式呈现组件，而&quot;来源/类型&quot;（Source/Type）模式将按来源呈现组件。后者在配合我们的资源库（Libraries）功能时会非常有用。</p><h2 id="配置组件实例" tabindex="-1">配置组件实例 <a class="header-anchor" href="#配置组件实例" aria-label="Permalink to &quot;配置组件实例&quot;">​</a></h2><p>添加组件实例后，选择一个时间轴或状态机进行播放。</p><h3 id="状态机-state-machines" tabindex="-1">状态机 (State Machines) <a class="header-anchor" href="#状态机-state-machines" aria-label="Permalink to &quot;状态机 (State Machines)&quot;">​</a></h3><p>分配实例后，默认状态机会显示在检查器中。</p><p><img src="'+r+'" alt="Image"></p><p>如果您公开（Expose）了任何输入（Inputs），您可以通过（选中动画时的）选项菜单或（选中状态机时的）输入面板来访问它们。</p><p><img src="'+s+'" alt="Image"></p><h3 id="添加动画" tabindex="-1">添加动画 <a class="header-anchor" href="#添加动画" aria-label="Permalink to &quot;添加动画&quot;">​</a></h3><p>您可以播放与组件关联的任何动画。您需要使用检查器中的加号按钮将所需的动画添加到实例中。</p><p><img src="'+l+'" alt="Image"></p><p>这些动画可以单独使用，与状态机混合使用，或者与其他动画分层使用。</p><p>请注意，在添加动画之前，您必须选择它是&quot;简单动画&quot;（Simple）还是&quot;重映射动画&quot;（Remap）。</p><h4 id="简单解析-simple" tabindex="-1">简单解析 (Simple) <a class="header-anchor" href="#简单解析-simple" aria-label="Permalink to &quot;简单解析 (Simple)&quot;">​</a></h4><p>简单动画是播放组件时间轴的一种简便方法。</p><p><img src="'+p+'" alt="Image"></p><p>简单动画允许您在主时间轴上为其起点设置关键帧。您还可以选择更改动画的播放速度。</p><h4 id="重映射-remap" tabindex="-1">重映射 (Remap) <a class="header-anchor" href="#重映射-remap" aria-label="Permalink to &quot;重映射 (Remap)&quot;">​</a></h4><p>重映射动画允许您在主时间轴上为动画的时间值设置关键帧。这让您可以拉伸、缩短甚至反向播放动画。</p><p><img src="'+d+'" alt="Image"></p><p>请注意，时间值以百分比表示，0% 代表时间轴的起点，100% 代表终点。</p><h3 id="混合值-mix-value" tabindex="-1">混合值 (Mix Value) <a class="header-anchor" href="#混合值-mix-value" aria-label="Permalink to &quot;混合值 (Mix Value)&quot;">​</a></h3><p>当您向一个组件添加多个动画时，动画开始混合在一起。这种混合非常重要，特别是当多个动画共享关键帧属性时。如果不调整此值，您的组件可能无法按预期方式播放动画。</p><p>默认情况下，添加到组件的任何动画其初始混合值均为 100%。您可以在设计模式下调整此值，或者在特定动画中通过设置关键帧来调整。<strong>请注意，混合值非零的动画将始终与其他动画混合，无论它是否设置了播放关键帧。</strong></p><p>为了确保播放正确的动画，请确保将目标动画的混合值设为 100%，并将所有其它动画的混合值设为 0%。</p><h2 id="实例模式-instance-modes" tabindex="-1">实例模式 (Instance Modes) <a class="header-anchor" href="#实例模式-instance-modes" aria-label="Permalink to &quot;实例模式 (Instance Modes)&quot;">​</a></h2><p>组件实例可以设置为使用 3 种模式之一，这些模式将根据其内容和使用环境表现出不同的行为。&quot;叶子&quot;（Leaf）模式和&quot;布局&quot;（Layout）模式通常在父画板需要对其内容进行响应式布局时使用。</p><h3 id="节点-node" tabindex="-1">节点 (Node) <a class="header-anchor" href="#节点-node" aria-label="Permalink to &quot;节点 (Node)&quot;">​</a></h3><p>这是默认模式，用于非响应式场景。其内容将始终根据缩放（Scale）属性进行缩放。</p><h3 id="叶子-leaf" tabindex="-1">叶子 (Leaf) <a class="header-anchor" href="#叶子-leaf" aria-label="Permalink to &quot;叶子 (Leaf)&quot;">​</a></h3><p><img src="'+c+'" alt="Image"></p><p>&quot;叶子&quot;模式会导致组件始终相对于其所在的布局（Layout）或画板进行定位和调整大小。如果组件包含需要随容器大小调整但其自身不包含布局（Layout）的元素，此模式非常有用。</p><h4 id="叶子拟合-leaf-fit" tabindex="-1">叶子拟合 (Leaf Fit) <a class="header-anchor" href="#叶子拟合-leaf-fit" aria-label="Permalink to &quot;叶子拟合 (Leaf Fit)&quot;">​</a></h4><p>&quot;拟合&quot;（Fit）类型决定了组件叶子在其分配区域内如何缩放。</p><ul><li><strong>填充 (Fill) (默认)：</strong> 内容将填充整个可用视图。如果纵横比不一致，Rive 内容将被拉伸。</li><li><strong>包含 (Contain)：</strong> 内容将包含在视图内，且保持纵横比。如果纵横比不一致，则视图的一部分将留白。</li><li><strong>覆盖 (Cover)：</strong> Rive 内容将覆盖整个视图，且保持纵横比。如果内容纵横比与视图不一致，则内容将被剪裁。</li><li><strong>等宽 (Fit Width)：</strong> 内容将填充至视图的宽度。这可能导致剪裁或视图空间留白。</li><li><strong>等高 (Fit Height)：</strong> 内容将填充至视图的高度。这可能导致剪裁或视图空间留白。</li><li><strong>无 (None)：</strong> 内容按其画板原始大小渲染，可能导致剪裁或视图空间留白。</li><li><strong>缩小以适应 (Scale Down)：</strong> 内容缩小至视图大小，且保持纵横比。当内容大于画布时，这等同于&quot;包含&quot;模式。如果画布大于内容，则不会放大。</li></ul><h4 id="叶子对齐-leaf-alignment" tabindex="-1">叶子对齐 (Leaf Alignment) <a class="header-anchor" href="#叶子对齐-leaf-alignment" aria-label="Permalink to &quot;叶子对齐 (Leaf Alignment)&quot;">​</a></h4><p>&quot;对齐&quot;类型决定了内容在分配区域内如何对齐。对齐采用 3x3 网格形式设定：<strong>居中 (预设)</strong>、<strong>左下</strong>、<strong>底部居中</strong>、<strong>右下</strong>、<strong>左侧居中</strong>、<strong>右侧居中</strong>、<strong>左上</strong>、<strong>顶部居中</strong>、<strong>右上</strong>。</p><h4 id="叶子对齐位置-x-y" tabindex="-1">叶子对齐位置 X/Y <a class="header-anchor" href="#叶子对齐位置-x-y" aria-label="Permalink to &quot;叶子对齐位置 X/Y&quot;">​</a></h4><p>&quot;叶子对齐位置&quot;是对齐方式的数值化表示，可用于 9 种预设对齐方案不满足需求的情况。数值表示如下：X = -1 (左)，0 (中)，1 (右)；Y = -1 (上)，0 (中)，1 (下)。也可以使用非整数值来实现精确对齐，例如 X = 0.5 将使内容定位在居中和靠右之间的中间位置。</p><h3 id="布局-layout" tabindex="-1">布局 (Layout) <a class="header-anchor" href="#布局-layout" aria-label="Permalink to &quot;布局 (Layout)&quot;">​</a></h3><p><img src="'+u+'" alt="Image"></p><p>当组件包含需要随父级大小变化而保持响应式的&quot;布局&quot;（Layout）时，请使用&quot;布局&quot;模式。这是唯一一种组件内容不被缩放的模式，而是通过画板大小的变化来重新排布组件内的内容。</p><h4 id="布局缩放类型-layout-scale-type" tabindex="-1">布局缩放类型 (Layout Scale Type) <a class="header-anchor" href="#布局缩放类型-layout-scale-type" aria-label="Permalink to &quot;布局缩放类型 (Layout Scale Type)&quot;">​</a></h4><ul><li><strong>固定 (Fixed)：</strong> 为布局设定固定的宽度或高度。定义的值可以是像素（point）或百分比。使用字段内的单位切换按钮即可切换类型。</li><li><strong>抱合 (Hug)：</strong> 布局的宽度和/或高度会缩小以适应其子内容。如果您的组件包含需要根据内容确定大小的文本或其它对象，此功能非常有用。</li><li><strong>填充 (Fill)：</strong> 布局的宽度和/或高度会扩展，以填充父布局或画板内的可用空间。</li></ul><h4 id="布局尺寸-layout-size" tabindex="-1">布局尺寸 (Layout Size) <a class="header-anchor" href="#布局尺寸-layout-size" aria-label="Permalink to &quot;布局尺寸 (Layout Size)&quot;">​</a></h4><p>当设置为&quot;固定&quot;时，组件的宽度和高度可以设置为像素值或百分比值。这与缩放（Scale）属性不同，后者是改变组件的整体缩放倍数。通常在选择&quot;布局&quot;模式时不应使用缩放属性。</p><h2 id="公开输入和事件" tabindex="-1">公开输入和事件 <a class="header-anchor" href="#公开输入和事件" aria-label="Permalink to &quot;公开输入和事件&quot;">​</a></h2><p>将组件的输入（Inputs）和/或事件（Events）&quot;公开&quot;（Expose），以便从父级/宿主画板中控制它们。这允许您通过状态机让一个组件控制另一个组件。</p><h3 id="如何公开输入" tabindex="-1">如何公开输入 <a class="header-anchor" href="#如何公开输入" aria-label="Permalink to &quot;如何公开输入&quot;">​</a></h3><p>公开输入允许父画板访问并操纵它。具体操作是：选择目标输入，然后在检查器中勾选 &quot;Expose to main artboard&quot;（公开至主画板）选项。</p><p><img src="https://ucarecdn.com/251b0247-ae05-4f58-8858-8e7a21abd816/" alt="Image"></p><p>创建组件后，您可以通过检查器的选项面板以及输入面板查看所有已公开的输入。</p><h3 id="在父画板上使用输入" tabindex="-1">在父画板上使用输入 <a class="header-anchor" href="#在父画板上使用输入" aria-label="Permalink to &quot;在父画板上使用输入&quot;">​</a></h3><p>已公开的输入可以在输入面板或检查器中找到。您可以通过监听器、事件或在时间轴上设置关键帧来使用它们。</p><p><img src="https://ucarecdn.com/ee1dd959-9fba-45c9-a74b-1173cd71e894/" alt="Image"></p><h4 id="通过监听器-listener" tabindex="-1">通过监听器 (Listener) <a class="header-anchor" href="#通过监听器-listener" aria-label="Permalink to &quot;通过监听器 (Listener)&quot;">​</a></h4><p>创建监听器时，您会发现所有公开的输入都可以作为监听器的 &quot;Set Input&quot;（设置输入）属性。利用这个选项，您可以例如同时更改多个画板的布尔输入。</p><p><img src="https://ucarecdn.com/2349fdd6-5a5a-434e-a1dc-3974e6f1e01c/" alt="Image"></p><h4 id="使用事件-events" tabindex="-1">使用事件 (Events) <a class="header-anchor" href="#使用事件-events" aria-label="Permalink to &quot;使用事件 (Events)&quot;">​</a></h4><p>此外，我们可以使用监听器来侦听来自组件发出的事件，并据此更改输入。</p><p><img src="https://ucarecdn.com/2b1ddae6-31c9-41be-969c-86a59b2206cd/" alt="Image"></p><p>要查看与画板关联的事件，您需要将该画板设置为监听器的目标（Target）。该事件现在将作为监听动作列在清单中。</p><h4 id="在状态机上记录关键帧" tabindex="-1">在状态机上记录关键帧 <a class="header-anchor" href="#在状态机上记录关键帧" aria-label="Permalink to &quot;在状态机上记录关键帧&quot;">​</a></h4><p>您可以通过检查器中的选项面板，在父画板的时间轴上为公开的输入设置关键帧。</p><p>这是一个非常方便的小技巧，例如当您想要设置某个实例内部的文本值时。</p>',74)])])}const k=e(m,[["render",h]]);export{P as __pageData,k as default};
