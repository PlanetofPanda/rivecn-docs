import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.WXS6e2PS.js";const E=JSON.parse('{"title":"自带 S3 存储桶","description":"配置您自己的 AWS S3 存储桶以配合 Rive 工作","frontmatter":{"title":"自带 S3 存储桶","description":"配置您自己的 AWS S3 存储桶以配合 Rive 工作"},"headers":[],"relativePath":"account-admin/bring-your-own-bucket.md","filePath":"account-admin/bring-your-own-bucket.md"}'),e={name:"account-admin/bring-your-own-bucket.md"};function t(p,s,r,h,k,o){return n(),a("div",null,[...s[0]||(s[0]=[l(`<div class="info custom-block"><p class="custom-block-title">INFO</p><p>此功能仅面向企业计划（Enterprise plan）客户提供。如果您有兴趣通过升级解锁此项功能，请<a href="https://rive.app/enterprise" target="_blank" rel="noreferrer">联系我们</a>。</p></div><h2 id="什么是自定义-s3-存储桶" tabindex="-1">什么是自定义 S3 存储桶？ <a class="header-anchor" href="#什么是自定义-s3-存储桶" aria-label="Permalink to &quot;什么是自定义 S3 存储桶？&quot;">​</a></h2><p>自定义 S3 存储桶允许企业客户将他们的 Rive 文件和资源数据存储在自己的 AWS 环境中，而不是 Rive 的默认存储中。此项高级功能让您能够更好地控制数据，从而实现：</p><ul><li>应用您组织的安全性合规政策</li><li>将数据保留在您现有的 AWS 基础设施内</li><li>与您现有的备份和灾难恢复流程集成</li><li>使用 CloudTrail 监控和审计对您存储桶的所有访问</li></ul><p>如果您在 Rive 中已有数据，并希望在升级至企业版后将其迁移到自定义 S3 存储桶，我们的团队可以协助协调迁移过程。</p><h2 id="配置指南" tabindex="-1">配置指南 <a class="header-anchor" href="#配置指南" aria-label="Permalink to &quot;配置指南&quot;">​</a></h2><h3 id="在您的-aws-账户中创建一个-s3-存储桶" tabindex="-1">在您的 AWS 账户中创建一个 S3 存储桶 <a class="header-anchor" href="#在您的-aws-账户中创建一个-s3-存储桶" aria-label="Permalink to &quot;在您的 AWS 账户中创建一个 S3 存储桶&quot;">​</a></h3><p>按照 <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html" target="_blank" rel="noreferrer">AWS 文档</a> 创建一个新的 S3 存储桶：</p><ul><li>为您的存储桶选择一个唯一的名称 <br><strong>注意：</strong> 在本文档后续内容中，请使用该名称替换 <code>BUCKET_NAME</code></li><li>配置基础存储桶设置 <ul><li>阻止公共访问（Block public access）</li><li>您可以选择保留所有默认设置，或者决定启用/自定义： <ul><li>版本控制（默认禁用）</li><li>加密 - 默认情况下，存储桶和新对象由 Amazon 的 S3 托管密钥 (SSE-S3) 使用 AES256 加密</li><li>标签（Tags）</li></ul></li></ul></li></ul><h3 id="创建-iam-策略" tabindex="-1">创建 IAM 策略 <a class="header-anchor" href="#创建-iam-策略" aria-label="Permalink to &quot;创建 IAM 策略&quot;">​</a></h3><ul><li>在 AWS 控制台中，进入 IAM / Policies（策略），点击 <em>&quot;Create policy&quot;（创建策略）</em></li><li>选择 <em>&quot;JSON&quot;</em> 策略编辑器视图，并粘贴以下内容：</li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:PutObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:DeleteObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:ListBucket&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:GetBucketLocation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:AbortMultipartUpload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:ListBucketMultipartUploads&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;s3:ListMultipartUploadParts&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;arn:aws:s3:::BUCKET_NAME&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;arn:aws:s3:::BUCKET_NAME/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2012-10-17&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="创建一个新的-iam-角色" tabindex="-1">创建一个新的 IAM 角色 <a class="header-anchor" href="#创建一个新的-iam-角色" aria-label="Permalink to &quot;创建一个新的 IAM 角色&quot;">​</a></h3><ul><li>在 AWS 控制台中，进入 IAM / Roles（角色），点击 <em>&quot;Create role&quot;（创建角色）</em></li><li>在 <em>&quot;Trusted entity type&quot;（信任实体类型）</em> 下选择 <em>&quot;Custom trust policy&quot;（自定义信任策略）</em></li><li>在出现的 JSON 编辑器中粘贴以下内容：</li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2012-10-17&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Principal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;AWS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;REQUEST_FROM_RIVE&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sts:AssumeRole&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>注意：</strong> 您需要向您的 Rive 代表索取用于替换 <code>REQUEST_FROM_RIVE</code> 的正确值。</p><ul><li>点击 <em>&quot;Next&quot;（下一步）</em> 进入 <em>&quot;Add permissions&quot;（添加权限）</em> 部分</li><li>在 <em>&quot;Permission policies&quot;（权限策略）</em> 下搜索您刚刚创建的 IAM 策略并选择它</li><li>点击 <em>&quot;Next&quot;（下一步）</em> 进入 <em>&quot;Name, review, and create&quot;（命名、检查和创建）</em></li><li>选择一个名称，检查信任策略和权限，然后点击 <em>&quot;Create role&quot;（创建角色）</em></li><li>打开您刚刚创建的角色并记录下 ARN</li></ul><h3 id="向-rive-提供信息" tabindex="-1">向 Rive 提供信息 <a class="header-anchor" href="#向-rive-提供信息" aria-label="Permalink to &quot;向 Rive 提供信息&quot;">​</a></h3><p>共享以下信息给您的 Rive 代表：</p><ul><li><strong>Region（区域）</strong>：S3 存储桶所在的区域</li><li><strong>Bucket Name（存储桶名称）</strong>：存储桶的名称</li><li><strong>Role ARN（角色 ARN）</strong>：您创建的角色的 ARN</li></ul><p>在向您的 Rive 代表提供上述所有信息后，我们的团队将配置您的账户以使用您的自定义 S3 存储桶。</p><p>一旦一切设置就绪，您将收到确认。届时，您的所有 Rive 资源都将自动存储在您自己的 S3 存储桶中。</p><h2 id="故障排除" tabindex="-1">故障排除 <a class="header-anchor" href="#故障排除" aria-label="Permalink to &quot;故障排除&quot;">​</a></h2><p>如果您在 S3 存储桶配置方面遇到问题：</p><ul><li>验证 IAM 角色是否具有正确的信任关系（使用 Rive 提供的数值）</li><li>确保 IAM 策略具有必要的 S3 权限</li><li>检查您的存储桶是否位于您提供给 Rive 的同一区域</li><li>联系您的 Rive 代表以获取更多协助</li></ul>`,25)])])}const c=i(e,[["render",t]]);export{E as __pageData,c as default};
