---
title: "列表 (Lists)"
description: "使用数据绑定在运行时生成列表"
---

"列表"（List）是一种显示一组项目的方法，这些项目是根据您在视图模型（View Models）中设置的绑定数据值动态生成的。这允许您构建可以根据这些值的更新实时更改的 Rive 文件。您可以使用列表来创建：

- 具有动态选项数量的菜单
- 产品列表
- 通知或活动提要
- 聊天消息
- 下拉菜单
- 联系人、朋友或追随者列表
- 高分榜、表格等

---

## 画板列表 (Artboard Lists)

"画板列表"（Artboard Lists）使您能够使用"画板"（Artboard）来代表列表中的每个项目，从而生成若干列表项。画板列表必须作为画板或布局（Layout）的子级添加。

要在舞台上添加画板列表，首先选择一个画板或一个布局。在编辑器右侧的检查器中，您将看到一个添加画板列表的按钮。点击它将该列表添加到您的层级结构中。它将作为您之前选择的画板或布局的子级出现。

![Image](/images/editor/add-artboard-list.png)

画板列表添加到层级结构后，您可以选中它并查看其检查器。

![Image](/images/editor/artboard-list-property.png)

下一步是使用"数据绑定"（Data Binding）为其绑定数据。这将决定列表中项目的内容和数量。有两种生成列表内容的方法：

- 使用"视图模型列表"（View Model List）属性
- 使用"视图模型数字"（View Model Number）属性配合"数字转列表"（Number to List）转换器

## 视图模型列表属性 (View Model List Property)

::: info
在继续之前，了解数据绑定的基础知识非常重要，特别是什么是"视图模型"（View Model）、如何创建它以及如何将其绑定到对象的属性。在[数据绑定概览](/editor/data-binding/overview)中了解更多信息。
:::

"视图模型列表"是一种属性，它可以包含动态数量的项目，每个项目代表一个视图模型实例。为了在列表中使用，视图模型必须绑定到一个画板。

要创建视图模型列表并将其绑定到画板列表：

### 创建列表项视图模型

导航到编辑器中的"数据"（Data）选项卡。点击视图模型下方的 + 按钮创建一个视图模型（这将代表您的列表项）。

### 将列表项视图模型绑定到您的项目画板

将该视图模型绑定到您想要用来渲染列表项的画板上。在这里，您可能还想创建额外的视图模型属性，并将它们绑定到该画板上的对象属性。

### 创建您的主视图模型

点击视图模型下方的 + 按钮创建另一个视图模型（这将是包含您的列表的视图模型，并应绑定到您想要渲染列表的画板上）。

### 添加列表属性

选择新创建的视图模型并点击旁边的 + 按钮。从弹出窗口中选择 **List**（列表）。这将向视图模型添加一个列表属性 <img src="/images/editor/list-property.png" alt="Image" />

### 添加列表项

选择列表属性，在右侧的检查器中，您可以通过点击 "Add List item"（添加列表项）来添加项目 <img src="/images/editor/list-items.png" alt="Image" />。添加列表项后，点击其名称左侧的设置按钮，以此为该项目设置视图模型和视图模型实例。

### 将列表属性绑定到您的画板列表

添加列表项后，返回"层级结构"（Hierarchy）选项卡，选择"画板列表"，然后从"画板列表属性"下拉菜单中，选择您在上方创建的 ViewModel List 属性。

运行状态机，您应该能看到您的列表项。请记住，布局将由画板列表的父级决定，因此请修改父级的设置以调整列表的布局。

::: info
Rive 的运行时提供了 [在运行时修改列表和列表项的 API](/runtimes/data-binding#lists)（例如，添加或删除项目）。
:::

## 视图模型数字配合转换器 (View Model Number with Converter)

填充列表的第二种方法是指定您希望在列表中的项目数量，以及您想要实例化的 ViewModel（画板）。这可以使用视图模型"数字"属性结合全新的"数字转列表"转换器来实现。

要创建视图模型数字转列表转换器并将其绑定到画板列表：

### 创建列表项视图模型

导航到编辑器中的"数据"（Data）选项卡。点击视图模型下方的 + 按钮创建一个视图模型（这将代表您的列表项）。

### 将列表项视图模型绑定到您的项目画板

将该视图模型绑定到您想要用来渲染列表项的画板上。在这里，您可能还想创建额外的视图模型属性，并将它们绑定到该画板上的对象属性。

### 创建您的主视图模型

点击视图模型下方的 + 按钮创建另一个视图模型（这将是包含您的数字属性的视图模型，并应绑定到您想要渲染列表的画板上）。

### 添加数字属性

选择新创建的视图模型并点击旁边的 + 按钮。从弹出窗口中选择 Number（数字）。选择新创建的数字，在检查器中设置您希望在列表中的项目数量。

### 添加数字转列表转换器

点击 + 按钮并选择 **Converters > List > Number to List**。<img src="/images/editor/number-to-list.png" alt="Image" />

### 在转换器中设置要使用的视图模型

选择创建的转换器，在检查器中选择您之前创建的代表列表项的视图模型。转换器将把项目数量转换为实际的画板项目 <img src="/images/editor/number-to-list-property.png" alt="Image" />

### 将数字属性和转换器绑定到您的画板列表

添加数字属性和转换器后，返回层级结构选项卡，选择画板列表，并从画板列表属性下拉菜单中，选择您在上方创建的 ViewModel Number 属性。组合框（Combobox）将显示黄色轮廓。右键点击组合框并选择 "Update Bind"（更新绑定）。在转换器（converter）字段中，选择您创建的"数字转列表"转换器。黄色轮廓应变为绿色。

运行状态机，您应该能看到您的列表项。请记住，布局将由画板列表的父级决定，因此请修改父级的设置以调整列表的布局。

## 视图模型列表项索引 (View Model List Item Index)

有时，让画板知道自己在父列表中处于哪个索引位置非常有用。这可以通过"视图模型列表项索引"属性来实现。

<YouTube videoId="CHXIOKQOq6Y" />

您可以通过点击 + 按钮并选择 **List Attributes > Index** 将此属性添加到项目的视图模型中。

![Image](/images/editor/list-index.png)

然后，您可以将此属性绑定到对象的属性并直接使用（例如，根据索引更改对象的位置），配合转换器使用（将索引值显示为字符串），或用作状态机中的条件（根据项目的索引提供不同的行为）。

::: info
当将项目索引与[列表属性](/editor/data-binding/lists#view-model-list-property)和列表项配合使用时，请注意，如果多个列表项绑定到同一个视图模型实例，它们将共享相同的索引值。
:::

## 列表与滚动 (Lists & Scrolling)

如果将画板列表作为布局（Layout）的子级添加，您的列表项将表现为其父布局的子级。这意味着方向、换行、内边距、间隙、对齐等所有内容都由父布局的属性决定。

此外，如果您已对父布局应用了[滚动约束 (Scroll Constraint)](/editor/layouts/scrolling)，列表项将能够超出范围进行滚动，而无需任何额外设置。

在滚动列表时，还可以应用额外的滚动属性。欲了解更多详情，请参见[列表滚动 (List Scrolling)](/editor/layouts/scrolling#list-scrolling)。