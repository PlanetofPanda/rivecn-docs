---
title: '滚动 (Scrolling)'
description: ''
---

Rive 中的滚动功能通过两个新约束实现：一个用于为溢出内容添加基于触摸的滚动，另一个用于创建滚动条。这两个约束都要与现有的布局组件结合使用。我们计划在未来提供通用的滚动组件，以便更快速地进行设置。

::: info
目前尚不支持鼠标滚轮/触控板手势滚动，但这已列入我们的 v1 路线图（Roadmap）中。
:::

---

## 内容滚动 (Content Scrolling)

要创建一个内容滚动区域，请建立包含以下项的层级结构：
- **滚动视图 (Scroll view)：** 定义滚动区域范围的布局。
- **滚动内容 (Scroll content)：** 包含要滚动项目的布局（这是您应用"滚动约束"的布局）。滚动幅度将由该布局的大小决定。通常您希望将此布局设置为"抱合"（hug）或"固定"（fixed）。
- **滚动项目 (Scroll items)：** 需要被滚动的布局项。

![Image](/images/editor/scroll-content-hierarchy.png)

选中您的"滚动内容"布局，在约束检查器中点击添加动作，添加 "Scroll Content"（滚动内容）约束。

![Image](/images/editor/layouts/1ee7adc4-4698-4f6d-a0e7-8ec73f53c492.webp)

添加后，使用选项浮窗调整滚动内容属性。

![Image](/images/editor/scroll-content-properties.png)

#### 方向 (Direction)

**垂直 (Vertical)** - 仅在垂直方向滚动。

**水平 (Horizontal)** - 仅在水平方向滚动。

**全部 (All)** - 在两个方向都可以滚动。

#### 滚动百分比 X/Y (可动)

此属性允许您设置内容的滚动百分比，0% 为滚动到顶部/左侧，100% 为滚动到底部/右侧。此属性在内容设置为单向或全向滚动时均有效，并且可以在时间轴上设置关键帧。

#### 滚动索引 (可动)

此属性允许您设置要滚动到的项目索引（从 0 开始）。这仅在滚动设置为垂直或水平时有效，且可以在时间轴上设置关键帧。

::: tip
滚动百分比（Scroll Percent）和滚动索引（Scroll Index）都控制着滚动内容区域内的偏移。因此，您应该只设置其中之一，因为同时设置两者会产生冲突。例如，在时间轴的特定帧上，您应该只为其中一个值设置关键帧。
:::

::: tip
为了将滚动百分比/滚动索引与物理滚动拖拽结合使用，您应该创建一个空的"重置"（reset）时间轴/状态。一旦滚动区域发生交互，就立即过渡到该状态。实现此目的的一种方法是向滚动视图（Scroll View）添加一个鼠标按下（Mouse down）监听器。
:::

#### 物理特性 (Physics)

**弹性 (Elastic)** - iOS 风格的滚动，具有减速效果和边缘回弹。

**约束 (Clamped)** - 基础的拖放效果，不带物理特性。

#### 吸附 (Snap)

启用后，滚动内容在停止时总是会停在一个完整的项目对齐滚动区域顶部/左侧的位置。

应用所需属性后，切换到动画模式并开始播放状态机来预览滚动约束的效果。您应该能够在滚动视图区域内通过点击/拖拽/释放来手动控制滚动。

---

## 列表滚动 (List Scrolling)

要实现列表滚动，请使用上述"内容滚动"中描述的相同设置，但不是向滚动内容布局添加多个滚动项，而是添加一个"列表"（List）。有关更多信息，请参阅[数据绑定列表](/editor/data-binding/lists)。

在滚动列表时，有一些额外的属性适用。这些属性仅在向滚动内容添加了列表后才会启用。

#### 虚拟化 (Virtualize)

启用后，列表将仅为当前位于内容视图区域内的项目生成画板组件。这在滚动包含大量项目的列表时可以提高性能。请注意，虚拟化仅能应用于一个方向（垂直或水平，不能同时应用）。

#### 轮播 (Carousel)

启用后，列表将在任意方向无限循环滚动。要使用轮播模式，必须先启用虚拟化。

---

## 创建滚动条 (Creating a Scroll Bar)

要创建一个内容条，请建立包含以下项的层级结构：
- **滚动条 (Scroll Bar)：** 定义滚动条和轨道区域的布局。
- **滚动滑块 (Scroll Thumb)：** 定义可拖动的滚动滑块的布局。

![Image](/images/editor/scroll-bar-hierarchy.png)

要创建滚动条，请选中充当滚动条滑块的布局组件。在约束检查器中，添加 "Scroll Bar Thumb"（滚动条滑块）约束。

![Image](/images/editor/layouts/0c295a18-6d04-471d-ba86-c74e4988c4a9.webp)

使用选项面板中的目标选择按钮来连接一个滚动布局。如上文"内容滚动"部分所述，这应该是您应用了滚动约束的那个布局。

![Image](/images/editor/layouts/2f05011a-cf88-41b5-9a96-ae4712d500d9.webp)